{% extends "base.html" %}
{% block content %}

{% macro render_field(field, placeholder=None) %}
{% if field.errors %}
    <div>

{% elif field.flags.error %}
    <div>

{% else %}
    <div>

{% endif %}

    {% set css_class = 'form-control ' + kwargs.pop('class', '') %}
    {{ field(class=css_class, placeholder=placeholder, **kwargs) }}

</div>
{% endmacro %}

<div>
    <div>

        {% with errors = get_flashed_messages(category_filter=["error"]) %}
            {% if errors %}
                <div>
                    {% for error in errors %}
                        {{ error }}<br>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <h1>Register</h1>
        <form action="" method="post">
            {{ form.hidden_tag() }}
            <p>
            {{ form.username.label }}<br>
            {{ form.username(size=32) }}<br>
            </p>

            <p>
            {{ form.email.label }}<br>
            {{ form.email(size=64) }}<br>
            </p>

            <p>
            {{ form.password.label }}<br>
            {{ form.password(size=32) }}<br>
            </p>

            <p>
            {{ form.password2.label }}<br>
            {{ form.password2(size=32) }}<br>
            </p>

            <p>{{ form.submit() }}</p>
        </form>
    </div>
</div>

{% endblock %}
